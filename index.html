<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Josna LGZ SocialSpace</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-spinner"></div>
            <h2>Loading Josna LGZ SocialSpace...</h2>
        </div>

        <!-- Login Screen -->
        <div id="login-screen" class="screen" style="display: none;">
            <div class="login-container">
                <div class="logo-container">
                    <h1><i class="fas fa-comments"></i> Josna LGZ</h1>
                    <h2>SocialSpace</h2>
                    <p>Connect. Share. Engage.</p>
                </div>
                
                <!-- Auth Tabs -->
                <div class="auth-tabs">
                    <button id="signin-tab" class="tab-btn active">Sign In</button>
                    <button id="signup-tab" class="tab-btn">Create New Account</button>
                </div>

                <!-- Sign In Form -->
                <div id="signin-form" class="auth-form">
                    <div class="form-group">
                        <input type="email" id="signin-email" placeholder="Email address" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signin-password" placeholder="Password" required>
                    </div>
                    <button id="signin-btn" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                    <div class="auth-divider">
                        <span>or</span>
                    </div>
                    <button id="google-signin-btn" class="btn btn-google">
                        <i class="fab fa-google"></i> Sign in with Google
                    </button>
                </div>

                <!-- Sign Up Form -->
                <div id="signup-form" class="auth-form" style="display: none;">
                    <div class="signup-header">
                        <h3><i class="fas fa-user-plus"></i> Create Your Account</h3>
                        <p class="signup-description">Join Josna LGZ SocialSpace and start connecting with others!</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Display Name</label>
                        <input type="text" id="signup-displayname" placeholder="Enter your display name" required>
                        <div class="field-help">This is how others will see your name</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" id="signup-email" placeholder="Enter your email address" required>
                        <div class="field-help">We'll use this for your login and account recovery</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="signup-password" placeholder="Create a secure password" required minlength="6">
                        <div class="field-help">Must be at least 6 characters long</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" id="signup-confirm-password" placeholder="Confirm your password" required>
                        <div class="field-help">Re-enter your password to confirm</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Choose Your Stream</label>
                        <select id="signup-stream" class="form-select" required>
                            <option value="">Select your stream community</option>
                            <option value="central">üèõÔ∏è Central - The heart of all discussions</option>
                            <option value="north">üèîÔ∏è North - Mountain enthusiasts and adventurers</option>
                            <option value="east">üåÖ East - Early risers and new beginnings</option>
                            <option value="west">üåÑ West - Sunset lovers and dreamers</option>
                            <option value="south">üèñÔ∏è South - Beach vibes and relaxation</option>
                        </select>
                        <div class="field-help">Your stream determines your community. You can interact with all streams!</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-container">
                            <input type="checkbox" id="terms-checkbox" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <button id="signup-btn" class="btn btn-primary btn-large">
                        <i class="fas fa-user-plus"></i> Create My Account
                    </button>
                    
                    <div class="auth-divider">
                        <span>or sign up with</span>
                    </div>
                    
                    <button id="google-signup-btn" class="btn btn-google btn-large">
                        <i class="fab fa-google"></i> Continue with Google
                    </button>
                    
                    <div class="signup-footer">
                        <p>Already have an account? <button id="back-to-signin" class="link-btn">Sign in here</button></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main App Screen -->
        <div id="main-screen" class="screen" style="display: none;">
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <h1><i class="fas fa-comments"></i> Josna LGZ SocialSpace</h1>
                    <div class="header-actions">
                        <button id="profile-btn" class="btn btn-icon">
                            <i class="fas fa-user"></i>
                            Profile
                        </button>
                        <button id="streams-btn" class="btn btn-icon">
                            <i class="fas fa-stream"></i>
                            Streams
                        </button>
                        <button id="following-btn" class="btn btn-icon">
                            <i class="fas fa-users"></i>
                            Following
                        </button>
                        <button id="messages-btn" class="btn btn-icon">
                            <i class="fas fa-envelope"></i>
                            <span id="unread-count" class="notification-badge" style="display: none;">0</span>
                        </button>
                        <div class="user-menu">
                            <img id="user-avatar" class="user-avatar" alt="User Avatar">
                            <span id="user-name"></span>
                            <span id="user-stream" class="stream-badge" style="display: none;"></span>
                            <button id="logout-btn" class="btn btn-icon">
                                <i class="fas fa-sign-out-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Post Composer -->
                <div class="post-composer">
                    <div class="composer-header">
                        <img id="composer-avatar" class="user-avatar" alt="User Avatar">
                        <span>What's on your mind?</span>
                    </div>
                    <textarea id="post-content" placeholder="Share your thoughts..." maxlength="500"></textarea>
                    <div class="composer-actions">
                        <span id="char-count">500</span>
                        <button id="post-btn" class="btn btn-primary" disabled>
                            <i class="fas fa-paper-plane"></i> Post
                        </button>
                    </div>
                </div>

                <!-- Posts Feed -->
                <div id="posts-container" class="posts-container">
                    <div class="loading-posts">
                        <i class="fas fa-spinner fa-spin"></i> Loading posts...
                    </div>
                </div>
            </main>
        </div>

        <!-- Profile Modal -->
        <div id="profile-modal" class="modal" style="display: none;">
            <div class="modal-content profile-modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-user"></i> My Profile</h3>
                    <button id="close-profile" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Profile Header -->
                    <div class="profile-header">
                        <div class="profile-avatar-section">
                            <img id="profile-avatar" class="profile-avatar" alt="Profile Avatar">
                            <div class="profile-basic-info">
                                <h2 id="profile-name">User Name</h2>
                                <div id="profile-email" class="profile-email">user@example.com</div>
                                <div id="profile-stream-info" class="profile-stream">üèõÔ∏è Central Stream</div>
                                <div class="profile-stats">
                                    <div class="stat-item">
                                        <span class="stat-number" id="profile-following-count">0</span>
                                        <span class="stat-label">Following</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-number" id="profile-followers-count">0</span>
                                        <span class="stat-label">Followers</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-number" id="profile-posts-count">0</span>
                                        <span class="stat-label">Posts</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <button id="edit-profile-btn" class="btn btn-secondary">
                                <i class="fas fa-edit"></i> Edit Profile
                            </button>
                        </div>
                    </div>

                    <!-- Profile Content Tabs -->
                    <div class="profile-tabs">
                        <button id="followers-tab" class="profile-tab active" data-tab="followers">
                            <i class="fas fa-heart"></i> My Followers
                        </button>
                        <button id="my-posts-tab" class="profile-tab" data-tab="posts">
                            <i class="fas fa-newspaper"></i> My Posts
                        </button>
                        <button id="activity-tab" class="profile-tab" data-tab="activity">
                            <i class="fas fa-chart-line"></i> Activity
                        </button>
                    </div>

                    <!-- Profile Content -->
                    <div class="profile-content">
                        <!-- Followers List -->
                        <div id="followers-content" class="profile-tab-content active">
                            <div class="followers-header">
                                <h4><i class="fas fa-heart"></i> People Following You</h4>
                                <p class="content-description">See who's interested in your posts and updates</p>
                            </div>
                            <div id="followers-list" class="users-list">
                                <div class="loading-users">
                                    <i class="fas fa-spinner fa-spin"></i> Loading your followers...
                                </div>
                            </div>
                        </div>

                        <!-- User's Posts -->
                        <div id="posts-content" class="profile-tab-content">
                            <div class="posts-header">
                                <h4><i class="fas fa-newspaper"></i> Your Posts</h4>
                                <p class="content-description">All your posts and their engagement</p>
                            </div>
                            <div id="user-posts-list" class="posts-container">
                                <div class="loading-posts">
                                    <i class="fas fa-spinner fa-spin"></i> Loading your posts...
                                </div>
                            </div>
                        </div>

                        <!-- Activity Summary -->
                        <div id="activity-content" class="profile-tab-content">
                            <div class="activity-header">
                                <h4><i class="fas fa-chart-line"></i> Your Activity</h4>
                                <p class="content-description">Overview of your engagement and interactions</p>
                            </div>
                            <div class="activity-stats">
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-paper-plane"></i>
                                    </div>
                                    <div class="activity-info">
                                        <span class="activity-number" id="total-posts">0</span>
                                        <span class="activity-label">Total Posts</span>
                                    </div>
                                </div>
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-heart"></i>
                                    </div>
                                    <div class="activity-info">
                                        <span class="activity-number" id="total-likes-received">0</span>
                                        <span class="activity-label">Likes Received</span>
                                    </div>
                                </div>
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="activity-info">
                                        <span class="activity-number" id="engagement-rate">0%</span>
                                        <span class="activity-label">Engagement Rate</span>
                                    </div>
                                </div>
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-calendar"></i>
                                    </div>
                                    <div class="activity-info">
                                        <span class="activity-number" id="member-since">--</span>
                                        <span class="activity-label">Member Since</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Streams Modal -->
        <div id="streams-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-stream"></i> Streams</h3>
                    <button id="close-streams" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="stream-tabs">
                        <button id="central-tab" class="stream-tab active" data-stream="central">üèõÔ∏è Central</button>
                        <button id="north-tab" class="stream-tab" data-stream="north">üèîÔ∏è North</button>
                        <button id="east-tab" class="stream-tab" data-stream="east">üåÖ East</button>
                        <button id="west-tab" class="stream-tab" data-stream="west">üåÑ West</button>
                        <button id="south-tab" class="stream-tab" data-stream="south">üèñÔ∏è South</button>
                    </div>
                    
                    <div id="stream-content" class="stream-content">
                        <div id="stream-users-list" class="users-list">
                            <div class="loading-users">
                                <i class="fas fa-spinner fa-spin"></i> Loading stream users...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Following Modal -->
        <div id="following-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-users"></i> Following</h3>
                    <button id="close-following" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="following-tabs">
                        <button id="discover-tab" class="tab-btn active">Discover Users</button>
                        <button id="following-list-tab" class="tab-btn">Following (<span id="following-count">0</span>)</button>
                    </div>
                    
                    <!-- Discover Users Tab -->
                    <div id="discover-users" class="tab-content">
                        <div id="discover-users-list" class="users-list">
                            <div class="loading-users">
                                <i class="fas fa-spinner fa-spin"></i> Loading users...
                            </div>
                        </div>
                    </div>
                    
                    <!-- Following List Tab -->
                    <div id="following-list" class="tab-content" style="display: none;">
                        <div id="following-users-list" class="users-list">
                            <div class="loading-users">
                                <i class="fas fa-spinner fa-spin"></i> Loading following...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Messages Modal -->
        <div id="messages-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-envelope"></i> Messages</h3>
                    <button id="close-messages" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- User List -->
                    <div id="users-list" class="users-list">
                        <div class="loading-users">
                            <i class="fas fa-spinner fa-spin"></i> Loading users...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Modal -->
        <div id="chat-modal" class="modal" style="display: none;">
            <div class="modal-content chat-modal">
                <div class="modal-header">
                    <h3 id="chat-title"><i class="fas fa-comments"></i> Chat</h3>
                    <button id="close-chat" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body chat-body">
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input">
                        <input type="text" id="message-input" placeholder="Type a message..." maxlength="200">
                        <button id="send-message" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Toast -->
        <div id="error-toast" class="toast error-toast" style="display: none;">
            <i class="fas fa-exclamation-circle"></i>
            <span id="error-message"></span>
            <button id="close-error" class="btn btn-icon">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Success Toast -->
        <div id="success-toast" class="toast success-toast" style="display: none;">
            <i class="fas fa-check-circle"></i>
            <span id="success-message"></span>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
